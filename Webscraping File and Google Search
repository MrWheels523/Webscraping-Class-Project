from bs4 import BeautifulSoup as soup
from urllib.request import urlopen as uReq
from prettyprinter import pprint
from googlesearch import search
from translate import Translator
import re
import random

def google_search():
    """Google search query."""
    
    i = 1
    query = input("Search query:")
    for google_search in search(query, tld="com", num = 10, stop=10, pause=2):
        print(str(i) + "." + google_search)
        i += 1
        
def translator():
    """Ask a user for a word ad translate that word from
    English to Spanish or Spanish to English."""
    language_preference = input("What language would you like to translate Spanish or English?")
    if language_preference.lower() == "English".lower():
        language = Translator(from_lang="English", to_lang="Spanish")
        word = input("What word would like to translate to Spanish?")
        translated_word = language.translate(word)
        print(translated_word)
    elif language_preference.lower() == "Spanish".lower():
        language_user = Translator(from_lang="Spanish", to_lang="English")
        English = input("What word would like to translate to English?")
        translated = language_user.translate(English)
        print(translated)
    else:
        print("Sorry no language besides English or Spanish can translate another word.")

def synonyms():
    """Ask the user on what word they want to use to see what other associated words are to that word."""
    i = 1
    find_word = []
    word = input("Type in word for synonyms:")
    my_url = "https://www.thesaurus.com/browse/"+ word + ""
    client = uReq(my_url)
    html = client.read()
    client.close()
    letter = soup(html, "html.parser")
    word_search = letter.findAll("div", {"class" : "css-16lv1yi e1qo4u831"})
    for find_word in word_search:
        for found_word in find_word.findAll("a", {"class": "css-1kg1yv8 eh475bn0", "class" : "css-1gyuw4i eh475bn0", 'href' : True}):
            user_word = found_word['href']
            print(str(i) + "." +  user_word.replace('/browse/', " "))
            i += 1
def fun_fact():
    i = 1
    fact = "https://bestlifeonline.com/random-fun-facts/"
    fun = uReq(fact)
    awesome = fun.read()
    fun.close()
    many_facts = soup(awesome, "html.parser")
    title = many_facts.find("h1", {"class" : "post-title center-block"})
    print(title.text)
    print()
    fun_facts = many_facts.findAll("div", {"class": "title"})
    data = random.choice(fun_facts)
    for data_1 in data:
        print(data_1)
        
def computer():
    """Ask the user on what computer part that they want to research about and display that product."""
    i = 1
    computer_part = input("Type in what computer part you want to research.")
    url = "https://www.newegg.com/p/pl?d="+ computer_part + ""
    compute = uReq(url)
    html_read = compute.read()
    compute.close()
    parts = soup(html_read, "html.parser")
    computers = parts.findAll("div", {"class" : "item-container"})
    for cpu in computers:
        gpu = cpu.findAll("a", {"class" : "item-title"})
        cli = gpu[0].text
        price = cpu.find("li", {"class" : "price-current"})
        print(str(i) + "." + " Item: "+ cli + "\nPrice: " + price.text)
        i += 1

def weather():
    next_days = []
    result = {}
    zip_code = input("What is your zip code to look up the weather?")
    weather_url = "https://www.estesparknews.com/weather/?mode=week&weather_zip=" + zip_code + ""
    hail = uReq(weather_url)
    html_url = hail.read()
    hail.close()
    hot = soup(html_url, "html.parser")
    location = hot.find("h3", {"class" :"weather-title"})
    print(location.text)
    print()
    for locate in hot.findAll("div", {"class" : "weather-index-week-container"}):
        day_name = locate.find("div", {"class" : "weather-index-time col-sm-1 col-xs-2 opacity-change"})
        high_temp = locate.find("div", {"class" : "high-temp"})
        low_temp = locate.find("div", {"class" : "low-temp"})
        details = locate.find("div", {"class": "col-sm-6 col-xs-12"})
        print(day_name.text, "\nHigh Temperature:", high_temp.text)
        print("Low Temperature: ", low_temp.text, "\nDetails", details.text)
        for cold in hot.findAll("div", {"class": "weather-panel-details"}):
            print(cold.text)
       

    

        
def main(): 
    '''
    Displays commands that the
    user can access within the program
    '''
    
    userChoice = ' '
    while userChoice != 'exit':
        print()
        print("command 1 - Google Search")
        print("command 2 - Synonyms")
        print("command 3 - Weather")
        print("command 4 - Fun Fact")
        print("command 5 - Translator from English to Spanish")
        print("command 6 - Computer Parts Research")
        print("exit - to exit the program")
        userChoice = input("\nPlease enter a command: ").lower()
        print()
        if userChoice == "1":
            google_search()
        elif userChoice == "2":
            synonyms()
        elif userChoice == "3":
             weather()
        elif userChoice == "4":
            fun_fact()
        elif userChoice == "5":
            translator()
        elif userChoice == "6":
            computer()
    print("Bye.")
    
if __name__ == "__main__":
    main() 
