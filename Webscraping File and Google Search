from bs4 import BeautifulSoup as soup
from urllib.request import urlopen as uReq
from prettyprinter import pprint
from googlesearch import search
from translate import Translator
import re
def google_search():
    """Google search query."""
    i = 1
    query = input("Search query:")
    for google_search in search(query, tld="com", num = 10, stop=10, pause=2):
        print(str(i) + "." + google_search)
        i += 1
        
def translator():
    """Ask a user for a word ad translate that word from
    English to Spanish or Spanish to English."""
    language_preference = input("What language would you like to translate Spanish or English?")
    if language_preference == "English":
        language = Translator(from_lang="English", to_lang="Spanish")
        word = input("What word would like to translate to Spanish?")
        translated_word = language.translate(word)
        print(translated_word)
    elif language_preference == "Spanish":
        language_user = Translator(from_lang="Spanish", to_lang="English")
        English = input("What word would like to translate to English?")
        translated = language_user.translate(English)
        print(translated)
    else:
        print("Sorry no language besides English or Spanish can translate another word.")

def synonyms():
    """Ask the user on what word they want to use to see what other associated words are to that word."""
    i = 1
    find_word = []
    word = input("Type in word for synonyms:")
    my_url = "https://www.thesaurus.com/browse/"+ word + ""
    client = uReq(my_url)
    html = client.read()
    client.close()
    letter = soup(html, "html.parser")
    word_search = letter.findAll("div", {"class" : "css-16lv1yi e1qo4u831"})
    for find_word in word_search:
        for found_word in find_word.findAll("a", {"class": "css-1kg1yv8 eh475bn0", "class" : "css-1gyuw4i eh475bn0", 'href' : True}):
            user_word = found_word['href']
            print(str(i) + "." +  user_word.replace('/browse/', " "))
            i += 1
            
def computer():
    """Ask the user on what computer part that they want to research about and display that product."""
    i = 1
    computer_part = input("Type in what computer part you want to research.")
    url = "https://www.newegg.com/p/pl?d="+ computer_part + ""
    compute = uReq(url)
    html_read = compute.read()
    compute.close()
    parts = soup(html_read, "html.parser")
    computers = parts.findAll("div", {"class" : "item-container"})
    for cpu in computers:
        gpu = cpu.findAll("a", {"class" : "item-title"})
        cli = gpu[0].text
        price = cpu.find("li", {"class" : "price-current"})
#         print(price.text)
# #         print()
        print("\nItem: "+ cli + "\nPrice: " + price.text.strip())
        i += 1

def weather():
    zip_code = input("What is your zip code to look up the weather?")
    weather_url = "https://www.estesparknews.com/weather/?weather_zip=" + zip_code + ""
    hail = uReq(weather_url)
    html_url = hail.read()
    hail.close()
    ice_rain = soup(html_url, "html.parser")
    snow = ice_rain.findAll("div", {"class" : "panel-group weather-panel-group"})                
    for weather in snow:            
        for rain in weather.findAll("div", {"class": "col-sm-6 col-xs-12"}):
            rain_2 = rain.text
            print(rain_2)
            print()
        
def main(): 
    '''
    Displays commands that the
    user can access within the program
    '''
    
    userChoice = ' '
    while userChoice != 'exit':
        print()
        print("command 1 - Google Search")
        print("command 2 - Synonyms")
        print("command 3 - Weather")
        print("command 4 - Fun Fact")
        print("command 5 - Translator from English to Spanish")
        print("command 6 - Computer Parts Research")
        print("exit - to exit the program")
        userChoice = input("\nPlease enter a command: ").lower()
        print()
        if userChoice == "1":
            google_search()
        elif userChoice == "2":
            synonyms()
        elif userChoice == "3":
             weather()
        elif userChoice == "4":
            fun_fact()
        elif userChoice == "5":
            translator()
        elif userChoice == "6":
            computer()
    print("Bye.")
    
if __name__ == "__main__":
    main()  
